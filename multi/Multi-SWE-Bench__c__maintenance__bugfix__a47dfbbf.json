{
  "instance_id": "Multi-SWE-Bench/c/maintenance/bugfix/a47dfbbf",
  "version": "v0.1",
  "category": "maintenance",
  "subcategory": "bugfix",
  "languages": [
    "c"
  ],
  "repo": {
    "origin": "github://facebook/zstd",
    "commit_pre": "6b4a3e019f8eeb3423065f7b24d790358e8cbc59"
  },
  "instruction": {
    "type": "issue",
    "text": "[lib] Add ZSTD_d_stableOutBuffer + fix single-pass mode for empty frames\nThis flag allows users to skip the output buffer allocation + memcpy if they guarantee that the `ZSTD_outBuffer*` passed to `ZSTD_decompressStream()` is large enough to fit the entire frame, and is never modified by the user.\r\n\r\nAlso fixes a bug where empty frames weren't eligible for single-pass mode. It caused a small allocation (4 bytes), and is a little bit slower.\r\n\r\nAdds tests for single-pass and stable output buffer modes.\r\n\r\nFuzz tests `ZSTD_d_stableOutput` to ensure it never crashes.\r\n\r\nFixes #2093"
  },
  "gold_slice": {
    "file": [
      "lib/common/error_private.c",
      "lib/common/zstd_errors.h",
      "lib/decompress/zstd_decompress.c",
      "lib/decompress/zstd_decompress_internal.h",
      "lib/zstd.h"
    ]
  },
  "gold_patch": {
    "diff_uri": "patches/Multi-SWE-Bench__c__maintenance__bugfix__a47dfbbf.diff"
  },
  "build": {
    "cmd_test": "make test"
  },
  "verification": {
    "kind": [
      "unit"
    ]
  },
  "original_instance_id": "facebook__zstd-2094"
}