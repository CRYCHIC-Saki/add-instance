{
  "instance_id": "Multi-SWE-Bench/c/maintenance/bugfix/538e9f59",
  "version": "v0.1",
  "category": "maintenance",
  "subcategory": "bugfix",
  "languages": [
    "c"
  ],
  "repo": {
    "origin": "github://jqlang/jq",
    "commit_pre": "4b4fefa254346524c787b862e35e4fbb70e01e95"
  },
  "instruction": {
    "type": "issue",
    "text": "Fix built-in function contains for strings\nThis is meant to fix #1732. In the existing code, the libc function\r\nunderlying `contains` on strings was `strstr`, which only works\r\nproperly on C strings (i.e., arrays of characters, where the first\r\nnull is an end marker). This is not suitable for JSON strings, which\r\ncan embed null bytes; for example `\"xx\\u0000yy\"` is considered to\r\ninclude `\"\\u0000aa\"` as a substring, since the latter is interpreted\r\nas the empty string.\r\n\r\nThis changeset uses `memmem` instead of `strstr`.\r\n\r\nNote: the tests I added are each shorter than the existing ones for `contains`; I find this easier to maintain and, when failing, to understand."
  },
  "gold_slice": {
    "file": [
      "src/jv.c"
    ]
  },
  "gold_patch": {
    "diff_uri": "patches/Multi-SWE-Bench__c__maintenance__bugfix__538e9f59.diff"
  },
  "build": {
    "cmd_test": "make test"
  },
  "verification": {
    "kind": [
      "unit"
    ]
  },
  "original_instance_id": "jqlang__jq-1793"
}